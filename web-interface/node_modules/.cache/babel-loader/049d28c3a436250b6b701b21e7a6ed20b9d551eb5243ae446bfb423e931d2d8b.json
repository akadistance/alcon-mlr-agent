{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\josep\\\\OneDrive\\\\Documents\\\\Jason\\\\EyeQ MLR Agent\\\\alcon-mlr-agent\\\\web-interface\\\\src\\\\components\\\\Sidebar.tsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect, useRef } from 'react';\nimport { ChatContext } from '../ChatContext';\nimport { Search, MoreHorizontal, Share, Edit, Archive, Trash2, PanelLeftClose, MessageSquare, User } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Sidebar = ({\n  isOpen,\n  isCollapsed,\n  onClose,\n  onToggleCollapse\n}) => {\n  _s();\n  const {\n    sortedConversations,\n    currentConversationId,\n    createNewConversation,\n    switchConversation,\n    deleteConversation,\n    updateConversationTitle\n  } = useContext(ChatContext);\n  const [editingId, setEditingId] = useState(null);\n  const [editTitle, setEditTitle] = useState('');\n  const [openMenuId, setOpenMenuId] = useState(null);\n  const [activeNav, setActiveNav] = useState('chat');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isSearchActive, setIsSearchActive] = useState(false);\n  const searchInputRef = useRef(null);\n\n  // Build a single list sorted by most recent updatedAt/createdAt/id\n  const allConversations = [...sortedConversations].sort((a, b) => {\n    const getTime = c => {\n      const t = c.updatedAt || c.createdAt || c.id;\n      const n = Number(t);\n      if (!isNaN(n)) return n;\n      const d = new Date(t);\n      return isNaN(d.getTime()) ? 0 : d.getTime();\n    };\n    return getTime(b) - getTime(a);\n  });\n\n  // Search through conversations (titles and messages)\n  const filteredConversations = searchQuery.trim() ? allConversations.filter(conv => {\n    // Search in title\n    if (conv.title.toLowerCase().includes(searchQuery.toLowerCase())) {\n      return true;\n    }\n    // Search in messages\n    return conv.messages.some(msg => msg.content.toLowerCase().includes(searchQuery.toLowerCase()));\n  }) : allConversations;\n  const startEditing = (convId, currentTitle) => {\n    setEditingId(convId);\n    setEditTitle(currentTitle);\n  };\n  const saveEdit = () => {\n    if (editTitle.trim() && editingId) {\n      updateConversationTitle(editingId, editTitle.trim());\n    }\n    setEditingId(null);\n    setEditTitle('');\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter') {\n      saveEdit();\n    } else if (e.key === 'Escape') {\n      setEditingId(null);\n      setEditTitle('');\n    }\n  };\n  const toggleMenu = convId => {\n    setOpenMenuId(openMenuId === convId ? null : convId);\n  };\n  const closeMenu = () => {\n    setOpenMenuId(null);\n  };\n  const handleShare = convId => {\n    console.log('Share conversation:', convId);\n    closeMenu();\n  };\n  const handleArchive = convId => {\n    console.log('Archive conversation:', convId);\n    closeMenu();\n  };\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if ((e.ctrlKey || e.metaKey) && e.key === 'k') {\n        e.preventDefault();\n        setActiveNav('search');\n        setIsSearchActive(true);\n        // Focus search input after a brief delay to ensure it's rendered\n        setTimeout(() => {\n          var _searchInputRef$curre;\n          (_searchInputRef$curre = searchInputRef.current) === null || _searchInputRef$curre === void 0 ? void 0 : _searchInputRef$curre.focus();\n        }, 100);\n      } else if ((e.ctrlKey || e.metaKey) && e.key === 'j') {\n        e.preventDefault();\n        setActiveNav('chat');\n        createNewConversation();\n        if (window.innerWidth <= 768 && onClose) onClose();\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [createNewConversation, onClose]);\n\n  // Close menu when clicking outside\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (openMenuId && !event.target.closest('.menu-container')) {\n        closeMenu();\n      }\n    };\n    document.addEventListener('click', handleClickOutside);\n    return () => {\n      document.removeEventListener('click', handleClickOutside);\n    };\n  }, [openMenuId]);\n  const renderConversationItem = conv => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `\n        group relative px-3 py-2 mx-2 rounded-lg cursor-pointer transition-all duration-200\n        ${conv.id === currentConversationId ? 'bg-gradient-to-r from-[#003595]/10 to-transparent border-l-2 border-[#003595]' : 'hover:bg-sidebar-surface-hover dark:hover:bg-sidebar-surface-hover'}\n      `,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      onClick: () => {\n        if (editingId !== conv.id) {\n          switchConversation(conv.id);\n          setActiveNav('chat');\n          if (window.innerWidth <= 768 && onClose) onClose();\n        }\n      },\n      children: [editingId === conv.id ? /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: editTitle,\n        onChange: e => setEditTitle(e.target.value),\n        onBlur: saveEdit,\n        onKeyDown: handleKeyPress,\n        className: \"flex-1 bg-chatgpt-bg dark:bg-chatgpt-dark-bg text-chatgpt-text-primary dark:text-chatgpt-dark-text-primary px-3 py-2 rounded-xl border border-alcon-blue focus:outline-none text-sm shadow-chatgpt\",\n        autoFocus: true,\n        onClick: e => e.stopPropagation()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"flex-1 text-sm text-sidebar-text-primary dark:text-sidebar-text-primary truncate pr-2\",\n        children: conv.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu-container relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `p-2 rounded-lg hover:bg-sidebar-surface-hover dark:hover:bg-sidebar-surface-hover transition-all duration-200 hover:scale-105 active:scale-95 min-w-[44px] min-h-[44px] flex items-center justify-center ${openMenuId === conv.id ? 'opacity-100' : 'opacity-0 group-hover:opacity-100'}`,\n          onClick: e => {\n            e.stopPropagation();\n            toggleMenu(conv.id);\n          },\n          \"aria-label\": \"More options\",\n          children: /*#__PURE__*/_jsxDEV(MoreHorizontal, {\n            size: 18,\n            className: \"text-sidebar-text-secondary dark:text-sidebar-text-secondary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), openMenuId === conv.id && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute right-0 mt-2 w-48 bg-chatgpt-bg/95 dark:bg-chatgpt-dark-bg/95 backdrop-blur-md rounded-2xl shadow-chatgpt-lg border border-chatgpt-border/50 dark:border-chatgpt-dark-border/50 z-50 py-2 animate-slide-in\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-chatgpt-text-primary dark:text-chatgpt-dark-text-primary hover:bg-chatgpt-bg-secondary dark:hover:bg-chatgpt-dark-bg-secondary transition-colors rounded-xl mx-1\",\n            onClick: e => {\n              e.stopPropagation();\n              handleShare(conv.id);\n            },\n            children: [/*#__PURE__*/_jsxDEV(Share, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Share\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-chatgpt-text-primary dark:text-chatgpt-dark-text-primary hover:bg-chatgpt-bg-secondary dark:hover:bg-chatgpt-dark-bg-secondary transition-colors rounded-xl mx-1\",\n            onClick: e => {\n              e.stopPropagation();\n              startEditing(conv.id, conv.title);\n              closeMenu();\n            },\n            children: [/*#__PURE__*/_jsxDEV(Edit, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Rename\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-chatgpt-text-primary dark:text-chatgpt-dark-text-primary hover:bg-chatgpt-bg-secondary dark:hover:bg-chatgpt-dark-bg-secondary transition-colors rounded-xl mx-1\",\n            onClick: e => {\n              e.stopPropagation();\n              handleArchive(conv.id);\n            },\n            children: [/*#__PURE__*/_jsxDEV(Archive, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Archive\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors rounded-xl mx-1\",\n            onClick: e => {\n              e.stopPropagation();\n              deleteConversation(conv.id);\n              closeMenu();\n            },\n            children: [/*#__PURE__*/_jsxDEV(Trash2, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)\n  }, conv.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden\",\n      onClick: onClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `\n        fixed top-0 left-0 h-screen\n        transition-all duration-300 ease-in-out\n        bg-sidebar-surface dark:bg-sidebar-surface border-r border-sidebar-border dark:border-sidebar-border\n        z-50\n        \n        lg:static lg:z-auto\n        \n        ${isCollapsed ? 'w-16' : 'w-64'}\n        \n        ${isOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}\n      `,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col h-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border-b border-sidebar-border dark:border-sidebar-border\",\n          children: isCollapsed ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-full flex items-center justify-center p-2 rounded-lg hover:bg-sidebar-surface-hover dark:hover:bg-sidebar-surface-hover transition-all duration-200 min-w-[44px] min-h-[44px]\",\n            onClick: onToggleCollapse,\n            title: \"Expand sidebar\",\n            \"aria-label\": \"Expand sidebar\",\n            children: /*#__PURE__*/_jsxDEV(PanelLeftClose, {\n              size: 18,\n              className: \"text-sidebar-text-secondary dark:text-sidebar-text-secondary rotate-180\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-end\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"p-2 rounded-lg hover:bg-sidebar-surface-hover dark:hover:bg-sidebar-surface-hover transition-all duration-200 min-w-[44px] min-h-[44px] flex items-center justify-center\",\n              onClick: onToggleCollapse,\n              title: \"Collapse sidebar\",\n              \"aria-label\": \"Collapse sidebar\",\n              children: /*#__PURE__*/_jsxDEV(PanelLeftClose, {\n                size: 18,\n                className: \"text-sidebar-text-secondary dark:text-sidebar-text-secondary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), !isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 overflow-y-auto py-4 px-2\",\n          children: [(isSearchActive || activeNav === 'search' || searchQuery.trim()) && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 px-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(Search, {\n                size: 16,\n                className: \"absolute left-3 top-1/2 transform -translate-y-1/2 text-sidebar-text-secondary dark:text-sidebar-text-secondary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                ref: searchInputRef,\n                type: \"text\",\n                placeholder: \"Search conversations...\",\n                value: searchQuery,\n                onChange: e => {\n                  setSearchQuery(e.target.value);\n                  setIsSearchActive(true);\n                  setActiveNav('search');\n                },\n                onFocus: () => {\n                  setIsSearchActive(true);\n                  setActiveNav('search');\n                },\n                onBlur: e => {\n                  var _e$relatedTarget;\n                  // Only hide if search query is empty and we're not clicking on the Search button\n                  if (!searchQuery.trim() && !((_e$relatedTarget = e.relatedTarget) !== null && _e$relatedTarget !== void 0 && _e$relatedTarget.closest('button'))) {\n                    setIsSearchActive(false);\n                    if (activeNav === 'search') {\n                      setActiveNav('chat');\n                    }\n                  }\n                },\n                onKeyDown: e => {\n                  // Escape key closes search\n                  if (e.key === 'Escape') {\n                    var _searchInputRef$curre2;\n                    setSearchQuery('');\n                    setIsSearchActive(false);\n                    setActiveNav('chat');\n                    (_searchInputRef$curre2 = searchInputRef.current) === null || _searchInputRef$curre2 === void 0 ? void 0 : _searchInputRef$curre2.blur();\n                  }\n                },\n                className: \"w-full pl-10 pr-3 py-2.5 text-sm bg-sidebar-surface-hover dark:bg-sidebar-surface-hover border border-sidebar-border dark:border-sidebar-border rounded-xl focus:outline-none focus:ring-2 focus:ring-alcon-blue/20 focus:border-alcon-blue text-sidebar-text-primary dark:text-sidebar-text-primary placeholder-sidebar-text-secondary dark:placeholder-sidebar-text-secondary transition-all duration-200\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-1 mb-4\",\n            children: [!(isSearchActive || activeNav === 'search' || searchQuery.trim()) && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `\n                      w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200\n                      text-sidebar-text-secondary dark:text-sidebar-text-secondary hover:bg-sidebar-surface-hover dark:hover:bg-sidebar-surface-hover\n                    `,\n              onClick: () => {\n                setActiveNav('search');\n                setIsSearchActive(true);\n                setTimeout(() => {\n                  var _searchInputRef$curre3;\n                  (_searchInputRef$curre3 = searchInputRef.current) === null || _searchInputRef$curre3 === void 0 ? void 0 : _searchInputRef$curre3.focus();\n                }, 100);\n              },\n              children: [/*#__PURE__*/_jsxDEV(Search, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium\",\n                children: \"Search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-auto text-xs text-sidebar-text-secondary dark:text-sidebar-text-secondary\",\n                children: \"Ctrl+K\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `\n                    w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200\n                    ${activeNav === 'chat' ? 'bg-sidebar-surface-hover dark:bg-sidebar-surface-hover text-sidebar-text-primary dark:text-sidebar-text-primary' : 'text-sidebar-text-secondary dark:text-sidebar-text-secondary hover:bg-sidebar-surface-hover dark:hover:bg-sidebar-surface-hover'}\n                  `,\n              onClick: () => {\n                setActiveNav('chat');\n                createNewConversation();\n                if (window.innerWidth <= 768 && onClose) onClose();\n              },\n              children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium\",\n                children: \"Chat\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-auto text-xs text-sidebar-text-secondary dark:text-sidebar-text-secondary\",\n                children: \"Ctrl+J\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4\",\n            children: searchQuery.trim() ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs font-semibold text-sidebar-text-secondary dark:text-sidebar-text-secondary uppercase tracking-wider mb-2 px-4\",\n                children: \"Search Results\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 21\n              }, this), filteredConversations.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-0.5\",\n                children: filteredConversations.map(renderConversationItem)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"px-4 py-6 text-center text-sm text-sidebar-text-secondary dark:text-sidebar-text-secondary\",\n                children: [\"No conversations found for \\\"\", searchQuery, \"\\\"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs font-semibold text-sidebar-text-secondary dark:text-sidebar-text-secondary uppercase tracking-wider mb-2 px-4\",\n                children: \"Recent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 21\n              }, this), filteredConversations.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-0.5\",\n                children: filteredConversations.map(renderConversationItem)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"px-4 py-6 text-center text-sm text-sidebar-text-secondary dark:text-sidebar-text-secondary\",\n                children: \"No conversations yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }, this), isCollapsed && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 overflow-y-auto py-4 px-2 space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `\n                  w-full flex items-center justify-center p-3 rounded-xl transition-all duration-200\n                  ${activeNav === 'search' ? 'bg-sidebar-surface-hover dark:bg-sidebar-surface-hover' : 'hover:bg-sidebar-surface-hover dark:hover:bg-sidebar-surface-hover'}\n                  min-w-[44px] min-h-[44px]\n                `,\n            onClick: () => {\n              setActiveNav('search');\n              setIsSearchActive(true);\n            },\n            title: \"Search (Ctrl+K)\",\n            children: /*#__PURE__*/_jsxDEV(Search, {\n              size: 20,\n              className: activeNav === 'search' ? 'text-sidebar-text-primary dark:text-sidebar-text-primary' : 'text-sidebar-text-secondary dark:text-sidebar-text-secondary'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `\n                  w-full flex items-center justify-center p-3 rounded-xl transition-all duration-200\n                  ${activeNav === 'chat' ? 'bg-sidebar-surface-hover dark:bg-sidebar-surface-hover' : 'hover:bg-sidebar-surface-hover dark:hover:bg-sidebar-surface-hover'}\n                  min-w-[44px] min-h-[44px]\n                `,\n            onClick: () => {\n              setActiveNav('chat');\n              createNewConversation();\n              if (window.innerWidth <= 768 && onClose) onClose();\n            },\n            title: \"Chat (Ctrl+J)\",\n            children: /*#__PURE__*/_jsxDEV(MessageSquare, {\n              size: 20,\n              className: activeNav === 'chat' ? 'text-sidebar-text-primary dark:text-sidebar-text-primary' : 'text-sidebar-text-secondary dark:text-sidebar-text-secondary'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border-t border-sidebar-border dark:border-sidebar-border\",\n          children: isCollapsed ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-full flex items-center justify-center p-2 rounded-lg hover:bg-sidebar-surface-hover dark:hover:bg-sidebar-surface-hover transition-all duration-200 min-w-[44px] min-h-[44px]\",\n            children: /*#__PURE__*/_jsxDEV(User, {\n              size: 20,\n              className: \"text-sidebar-text-secondary dark:text-sidebar-text-secondary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-8 h-8 rounded-full bg-sidebar-surface-hover dark:bg-sidebar-surface-hover flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(User, {\n                size: 18,\n                className: \"text-sidebar-text-secondary dark:text-sidebar-text-secondary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm font-medium text-sidebar-text-primary dark:text-sidebar-text-primary\",\n                children: \"User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-sidebar-text-secondary dark:text-sidebar-text-secondary\",\n                children: \"user@example.com\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Sidebar, \"mfo//GuRzdeFUww+TPbOf3WoI5w=\");\n_c = Sidebar;\nexport default Sidebar;\nvar _c;\n$RefreshReg$(_c, \"Sidebar\");","map":{"version":3,"names":["React","useContext","useState","useEffect","useRef","ChatContext","Search","MoreHorizontal","Share","Edit","Archive","Trash2","PanelLeftClose","MessageSquare","User","jsxDEV","_jsxDEV","Fragment","_Fragment","Sidebar","isOpen","isCollapsed","onClose","onToggleCollapse","_s","sortedConversations","currentConversationId","createNewConversation","switchConversation","deleteConversation","updateConversationTitle","editingId","setEditingId","editTitle","setEditTitle","openMenuId","setOpenMenuId","activeNav","setActiveNav","searchQuery","setSearchQuery","isSearchActive","setIsSearchActive","searchInputRef","allConversations","sort","a","b","getTime","c","t","updatedAt","createdAt","id","n","Number","isNaN","d","Date","filteredConversations","trim","filter","conv","title","toLowerCase","includes","messages","some","msg","content","startEditing","convId","currentTitle","saveEdit","handleKeyPress","e","key","toggleMenu","closeMenu","handleShare","console","log","handleArchive","handleKeyDown","ctrlKey","metaKey","preventDefault","setTimeout","_searchInputRef$curre","current","focus","window","innerWidth","addEventListener","removeEventListener","handleClickOutside","event","target","closest","document","renderConversationItem","className","children","onClick","type","value","onChange","onBlur","onKeyDown","autoFocus","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","size","ref","placeholder","onFocus","_e$relatedTarget","relatedTarget","_searchInputRef$curre2","blur","_searchInputRef$curre3","length","map","_c","$RefreshReg$"],"sources":["C:/Users/josep/OneDrive/Documents/Jason/EyeQ MLR Agent/alcon-mlr-agent/web-interface/src/components/Sidebar.tsx"],"sourcesContent":["import React, { useContext, useState, useEffect, useRef, KeyboardEvent } from 'react';\r\nimport { ChatContext } from '../ChatContext';\r\nimport { Search, MoreHorizontal, Share, Edit, Archive, Trash2, PanelLeftClose, MessageSquare, User } from 'lucide-react';\r\nimport { Conversation } from '../types';\r\n\r\ninterface SidebarProps {\r\n  isOpen: boolean;\r\n  isCollapsed: boolean;\r\n  onClose: () => void;\r\n  onToggleCollapse: () => void;\r\n}\r\n\r\nconst Sidebar: React.FC<SidebarProps> = ({ isOpen, isCollapsed, onClose, onToggleCollapse }) => {\r\n  const { \r\n    sortedConversations, \r\n    currentConversationId, \r\n    createNewConversation, \r\n    switchConversation, \r\n    deleteConversation, \r\n    updateConversationTitle\r\n  } = useContext(ChatContext);\r\n  \r\n  const [editingId, setEditingId] = useState<string | null>(null);\r\n  const [editTitle, setEditTitle] = useState('');\r\n  const [openMenuId, setOpenMenuId] = useState<string | null>(null);\r\n  const [activeNav, setActiveNav] = useState<'search' | 'chat'>('chat');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [isSearchActive, setIsSearchActive] = useState(false);\r\n  const searchInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  // Build a single list sorted by most recent updatedAt/createdAt/id\r\n  const allConversations = [...sortedConversations].sort((a, b) => {\r\n    const getTime = (c: Conversation) => {\r\n      const t: any = (c.updatedAt as any) || (c.createdAt as any) || c.id;\r\n      const n = Number(t);\r\n      if (!isNaN(n)) return n;\r\n      const d = new Date(t);\r\n      return isNaN(d.getTime()) ? 0 : d.getTime();\r\n    };\r\n    return getTime(b) - getTime(a);\r\n  });\r\n\r\n  // Search through conversations (titles and messages)\r\n  const filteredConversations = searchQuery.trim() \r\n    ? allConversations.filter(conv => {\r\n        // Search in title\r\n        if (conv.title.toLowerCase().includes(searchQuery.toLowerCase())) {\r\n          return true;\r\n        }\r\n        // Search in messages\r\n        return conv.messages.some(msg => \r\n          msg.content.toLowerCase().includes(searchQuery.toLowerCase())\r\n        );\r\n      })\r\n    : allConversations;\r\n\r\n  const startEditing = (convId: string, currentTitle: string) => {\r\n    setEditingId(convId);\r\n    setEditTitle(currentTitle);\r\n  };\r\n\r\n  const saveEdit = () => {\r\n    if (editTitle.trim() && editingId) {\r\n      updateConversationTitle(editingId, editTitle.trim());\r\n    }\r\n    setEditingId(null);\r\n    setEditTitle('');\r\n  };\r\n\r\n  const handleKeyPress = (e: KeyboardEvent<HTMLInputElement>) => {\r\n    if (e.key === 'Enter') {\r\n      saveEdit();\r\n    } else if (e.key === 'Escape') {\r\n      setEditingId(null);\r\n      setEditTitle('');\r\n    }\r\n  };\r\n\r\n  const toggleMenu = (convId: string) => {\r\n    setOpenMenuId(openMenuId === convId ? null : convId);\r\n  };\r\n\r\n  const closeMenu = () => {\r\n    setOpenMenuId(null);\r\n  };\r\n\r\n  const handleShare = (convId: string) => {\r\n    console.log('Share conversation:', convId);\r\n    closeMenu();\r\n  };\r\n\r\n  const handleArchive = (convId: string) => {\r\n    console.log('Archive conversation:', convId);\r\n    closeMenu();\r\n  };\r\n\r\n  // Keyboard shortcuts\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: globalThis.KeyboardEvent) => {\r\n      if ((e.ctrlKey || e.metaKey) && e.key === 'k') {\r\n        e.preventDefault();\r\n        setActiveNav('search');\r\n        setIsSearchActive(true);\r\n        // Focus search input after a brief delay to ensure it's rendered\r\n        setTimeout(() => {\r\n          searchInputRef.current?.focus();\r\n        }, 100);\r\n      } else if ((e.ctrlKey || e.metaKey) && e.key === 'j') {\r\n        e.preventDefault();\r\n        setActiveNav('chat');\r\n        createNewConversation();\r\n        if (window.innerWidth <= 768 && onClose) onClose();\r\n      }\r\n    };\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, [createNewConversation, onClose]);\r\n\r\n  // Close menu when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (openMenuId && !(event.target as Element).closest('.menu-container')) {\r\n        closeMenu();\r\n      }\r\n    };\r\n    document.addEventListener('click', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('click', handleClickOutside);\r\n    };\r\n  }, [openMenuId]);\r\n\r\n  const renderConversationItem = (conv: Conversation) => (\r\n    <div\r\n      key={conv.id}\r\n      className={`\r\n        group relative px-3 py-2 mx-2 rounded-lg cursor-pointer transition-all duration-200\r\n        ${conv.id === currentConversationId \r\n          ? 'bg-gradient-to-r from-[#003595]/10 to-transparent border-l-2 border-[#003595]' \r\n          : 'hover:bg-sidebar-surface-hover dark:hover:bg-sidebar-surface-hover'}\r\n      `}\r\n    >\r\n      <div\r\n        className=\"flex items-center justify-between\"\r\n        onClick={() => {\r\n          if (editingId !== conv.id) {\r\n            switchConversation(conv.id);\r\n            setActiveNav('chat');\r\n            if (window.innerWidth <= 768 && onClose) onClose();\r\n          }\r\n        }}\r\n      >\r\n        {editingId === conv.id ? (\r\n          <input\r\n            type=\"text\"\r\n            value={editTitle}\r\n            onChange={(e) => setEditTitle(e.target.value)}\r\n            onBlur={saveEdit}\r\n            onKeyDown={handleKeyPress}\r\n            className=\"flex-1 bg-chatgpt-bg dark:bg-chatgpt-dark-bg text-chatgpt-text-primary dark:text-chatgpt-dark-text-primary px-3 py-2 rounded-xl border border-alcon-blue focus:outline-none text-sm shadow-chatgpt\"\r\n            autoFocus\r\n            onClick={(e) => e.stopPropagation()}\r\n          />\r\n        ) : (\r\n          <span className=\"flex-1 text-sm text-sidebar-text-primary dark:text-sidebar-text-primary truncate pr-2\">\r\n            {conv.title}\r\n          </span>\r\n        )}\r\n        \r\n        <div className=\"menu-container relative\">\r\n          <button\r\n            className={`p-2 rounded-lg hover:bg-sidebar-surface-hover dark:hover:bg-sidebar-surface-hover transition-all duration-200 hover:scale-105 active:scale-95 min-w-[44px] min-h-[44px] flex items-center justify-center ${\r\n              openMenuId === conv.id ? 'opacity-100' : 'opacity-0 group-hover:opacity-100'\r\n            }`}\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              toggleMenu(conv.id);\r\n            }}\r\n            aria-label=\"More options\"\r\n          >\r\n            <MoreHorizontal size={18} className=\"text-sidebar-text-secondary dark:text-sidebar-text-secondary\" />\r\n          </button>\r\n          {openMenuId === conv.id && (\r\n            <div className=\"absolute right-0 mt-2 w-48 bg-chatgpt-bg/95 dark:bg-chatgpt-dark-bg/95 backdrop-blur-md rounded-2xl shadow-chatgpt-lg border border-chatgpt-border/50 dark:border-chatgpt-dark-border/50 z-50 py-2 animate-slide-in\">\r\n              <button\r\n                className=\"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-chatgpt-text-primary dark:text-chatgpt-dark-text-primary hover:bg-chatgpt-bg-secondary dark:hover:bg-chatgpt-dark-bg-secondary transition-colors rounded-xl mx-1\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  handleShare(conv.id);\r\n                }}\r\n              >\r\n                <Share size={16} />\r\n                <span>Share</span>\r\n              </button>\r\n              <button\r\n                className=\"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-chatgpt-text-primary dark:text-chatgpt-dark-text-primary hover:bg-chatgpt-bg-secondary dark:hover:bg-chatgpt-dark-bg-secondary transition-colors rounded-xl mx-1\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  startEditing(conv.id, conv.title);\r\n                  closeMenu();\r\n                }}\r\n              >\r\n                <Edit size={16} />\r\n                <span>Rename</span>\r\n              </button>\r\n              <button\r\n                className=\"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-chatgpt-text-primary dark:text-chatgpt-dark-text-primary hover:bg-chatgpt-bg-secondary dark:hover:bg-chatgpt-dark-bg-secondary transition-colors rounded-xl mx-1\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  handleArchive(conv.id);\r\n                }}\r\n              >\r\n                <Archive size={16} />\r\n                <span>Archive</span>\r\n              </button>\r\n              <button\r\n                className=\"w-full flex items-center gap-3 px-4 py-2.5 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors rounded-xl mx-1\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  deleteConversation(conv.id);\r\n                  closeMenu();\r\n                }}\r\n              >\r\n                <Trash2 size={16} />\r\n                <span>Delete</span>\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {/* Mobile overlay */}\r\n      {isOpen && (\r\n        <div \r\n          className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden\"\r\n          onClick={onClose}\r\n        />\r\n      )}\r\n      \r\n      {/* Grok-style Sidebar */}\r\n      <div className={`\r\n        fixed top-0 left-0 h-screen\r\n        transition-all duration-300 ease-in-out\r\n        bg-sidebar-surface dark:bg-sidebar-surface border-r border-sidebar-border dark:border-sidebar-border\r\n        z-50\r\n        \r\n        lg:static lg:z-auto\r\n        \r\n        ${isCollapsed ? 'w-16' : 'w-64'}\r\n        \r\n        ${isOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}\r\n      `}>\r\n        <div className=\"flex flex-col h-full\">\r\n          {/* Collapse button at top */}\r\n          <div className=\"p-4 border-b border-sidebar-border dark:border-sidebar-border\">\r\n            {isCollapsed ? (\r\n              <button \r\n                className=\"w-full flex items-center justify-center p-2 rounded-lg hover:bg-sidebar-surface-hover dark:hover:bg-sidebar-surface-hover transition-all duration-200 min-w-[44px] min-h-[44px]\"\r\n                onClick={onToggleCollapse}\r\n                title=\"Expand sidebar\"\r\n                aria-label=\"Expand sidebar\"\r\n              >\r\n                <PanelLeftClose size={18} className=\"text-sidebar-text-secondary dark:text-sidebar-text-secondary rotate-180\" />\r\n              </button>\r\n            ) : (\r\n              <div className=\"flex items-center justify-end\">\r\n                <button \r\n                  className=\"p-2 rounded-lg hover:bg-sidebar-surface-hover dark:hover:bg-sidebar-surface-hover transition-all duration-200 min-w-[44px] min-h-[44px] flex items-center justify-center\"\r\n                  onClick={onToggleCollapse}\r\n                  title=\"Collapse sidebar\"\r\n                  aria-label=\"Collapse sidebar\"\r\n                >\r\n                  <PanelLeftClose size={18} className=\"text-sidebar-text-secondary dark:text-sidebar-text-secondary\" />\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Unified Navigation Section */}\r\n          {!isCollapsed && (\r\n            <div className=\"flex-1 overflow-y-auto py-4 px-2\">\r\n              {/* Search Input - shown when Search is active or when typing */}\r\n              {(isSearchActive || activeNav === 'search' || searchQuery.trim()) && (\r\n                <div className=\"mb-4 px-2\">\r\n                  <div className=\"relative\">\r\n                    <Search size={16} className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-sidebar-text-secondary dark:text-sidebar-text-secondary\" />\r\n                    <input\r\n                      ref={searchInputRef}\r\n                      type=\"text\"\r\n                      placeholder=\"Search conversations...\"\r\n                      value={searchQuery}\r\n                      onChange={(e) => {\r\n                        setSearchQuery(e.target.value);\r\n                        setIsSearchActive(true);\r\n                        setActiveNav('search');\r\n                      }}\r\n                      onFocus={() => {\r\n                        setIsSearchActive(true);\r\n                        setActiveNav('search');\r\n                      }}\r\n                      onBlur={(e) => {\r\n                        // Only hide if search query is empty and we're not clicking on the Search button\r\n                        if (!searchQuery.trim() && !e.relatedTarget?.closest('button')) {\r\n                          setIsSearchActive(false);\r\n                          if (activeNav === 'search') {\r\n                            setActiveNav('chat');\r\n                          }\r\n                        }\r\n                      }}\r\n                      onKeyDown={(e) => {\r\n                        // Escape key closes search\r\n                        if (e.key === 'Escape') {\r\n                          setSearchQuery('');\r\n                          setIsSearchActive(false);\r\n                          setActiveNav('chat');\r\n                          searchInputRef.current?.blur();\r\n                        }\r\n                      }}\r\n                      className=\"w-full pl-10 pr-3 py-2.5 text-sm bg-sidebar-surface-hover dark:bg-sidebar-surface-hover border border-sidebar-border dark:border-sidebar-border rounded-xl focus:outline-none focus:ring-2 focus:ring-alcon-blue/20 focus:border-alcon-blue text-sidebar-text-primary dark:text-sidebar-text-primary placeholder-sidebar-text-secondary dark:placeholder-sidebar-text-secondary transition-all duration-200\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Navigation Items */}\r\n              <div className=\"space-y-1 mb-4\">\r\n                {/* Search Button - hidden when search input is active */}\r\n                {!(isSearchActive || activeNav === 'search' || searchQuery.trim()) && (\r\n                  <button\r\n                    className={`\r\n                      w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200\r\n                      text-sidebar-text-secondary dark:text-sidebar-text-secondary hover:bg-sidebar-surface-hover dark:hover:bg-sidebar-surface-hover\r\n                    `}\r\n                    onClick={() => {\r\n                      setActiveNav('search');\r\n                      setIsSearchActive(true);\r\n                      setTimeout(() => {\r\n                        searchInputRef.current?.focus();\r\n                      }, 100);\r\n                    }}\r\n                  >\r\n                    <Search size={20} />\r\n                    <span className=\"text-sm font-medium\">Search</span>\r\n                    <span className=\"ml-auto text-xs text-sidebar-text-secondary dark:text-sidebar-text-secondary\">\r\n                      Ctrl+K\r\n                    </span>\r\n                  </button>\r\n                )}\r\n\r\n                {/* Chat Button */}\r\n                <button\r\n                  className={`\r\n                    w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200\r\n                    ${activeNav === 'chat' \r\n                      ? 'bg-sidebar-surface-hover dark:bg-sidebar-surface-hover text-sidebar-text-primary dark:text-sidebar-text-primary' \r\n                      : 'text-sidebar-text-secondary dark:text-sidebar-text-secondary hover:bg-sidebar-surface-hover dark:hover:bg-sidebar-surface-hover'}\r\n                  `}\r\n                  onClick={() => {\r\n                    setActiveNav('chat');\r\n                    createNewConversation();\r\n                    if (window.innerWidth <= 768 && onClose) onClose();\r\n                  }}\r\n                >\r\n                  <MessageSquare size={20} />\r\n                  <span className=\"text-sm font-medium\">Chat</span>\r\n                  <span className=\"ml-auto text-xs text-sidebar-text-secondary dark:text-sidebar-text-secondary\">\r\n                    Ctrl+J\r\n                  </span>\r\n                </button>\r\n              </div>\r\n\r\n              {/* Conversations List */}\r\n              <div className=\"mt-4\">\r\n                {searchQuery.trim() ? (\r\n                  <>\r\n                    <div className=\"text-xs font-semibold text-sidebar-text-secondary dark:text-sidebar-text-secondary uppercase tracking-wider mb-2 px-4\">\r\n                      Search Results\r\n                    </div>\r\n                    {filteredConversations.length > 0 ? (\r\n                      <div className=\"space-y-0.5\">\r\n                        {filteredConversations.map(renderConversationItem)}\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"px-4 py-6 text-center text-sm text-sidebar-text-secondary dark:text-sidebar-text-secondary\">\r\n                        No conversations found for \"{searchQuery}\"\r\n                      </div>\r\n                    )}\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <div className=\"text-xs font-semibold text-sidebar-text-secondary dark:text-sidebar-text-secondary uppercase tracking-wider mb-2 px-4\">\r\n                      Recent\r\n                    </div>\r\n                    {filteredConversations.length > 0 ? (\r\n                      <div className=\"space-y-0.5\">\r\n                        {filteredConversations.map(renderConversationItem)}\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"px-4 py-6 text-center text-sm text-sidebar-text-secondary dark:text-sidebar-text-secondary\">\r\n                        No conversations yet\r\n                      </div>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Collapsed navigation icons */}\r\n          {isCollapsed && (\r\n            <div className=\"flex-1 overflow-y-auto py-4 px-2 space-y-2\">\r\n              <button\r\n                className={`\r\n                  w-full flex items-center justify-center p-3 rounded-xl transition-all duration-200\r\n                  ${activeNav === 'search' \r\n                    ? 'bg-sidebar-surface-hover dark:bg-sidebar-surface-hover' \r\n                    : 'hover:bg-sidebar-surface-hover dark:hover:bg-sidebar-surface-hover'}\r\n                  min-w-[44px] min-h-[44px]\r\n                `}\r\n                onClick={() => {\r\n                  setActiveNav('search');\r\n                  setIsSearchActive(true);\r\n                }}\r\n                title=\"Search (Ctrl+K)\"\r\n              >\r\n                <Search size={20} className={activeNav === 'search' ? 'text-sidebar-text-primary dark:text-sidebar-text-primary' : 'text-sidebar-text-secondary dark:text-sidebar-text-secondary'} />\r\n              </button>\r\n              <button\r\n                className={`\r\n                  w-full flex items-center justify-center p-3 rounded-xl transition-all duration-200\r\n                  ${activeNav === 'chat' \r\n                    ? 'bg-sidebar-surface-hover dark:bg-sidebar-surface-hover' \r\n                    : 'hover:bg-sidebar-surface-hover dark:hover:bg-sidebar-surface-hover'}\r\n                  min-w-[44px] min-h-[44px]\r\n                `}\r\n                onClick={() => {\r\n                  setActiveNav('chat');\r\n                  createNewConversation();\r\n                  if (window.innerWidth <= 768 && onClose) onClose();\r\n                }}\r\n                title=\"Chat (Ctrl+J)\"\r\n              >\r\n                <MessageSquare size={20} className={activeNav === 'chat' ? 'text-sidebar-text-primary dark:text-sidebar-text-primary' : 'text-sidebar-text-secondary dark:text-sidebar-text-secondary'} />\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {/* User profile at bottom - Grok style */}\r\n          <div className=\"p-4 border-t border-sidebar-border dark:border-sidebar-border\">\r\n            {isCollapsed ? (\r\n              <button className=\"w-full flex items-center justify-center p-2 rounded-lg hover:bg-sidebar-surface-hover dark:hover:bg-sidebar-surface-hover transition-all duration-200 min-w-[44px] min-h-[44px]\">\r\n                <User size={20} className=\"text-sidebar-text-secondary dark:text-sidebar-text-secondary\" />\r\n              </button>\r\n            ) : (\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"w-8 h-8 rounded-full bg-sidebar-surface-hover dark:bg-sidebar-surface-hover flex items-center justify-center\">\r\n                  <User size={18} className=\"text-sidebar-text-secondary dark:text-sidebar-text-secondary\" />\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <div className=\"text-sm font-medium text-sidebar-text-primary dark:text-sidebar-text-primary\">User</div>\r\n                  <div className=\"text-xs text-sidebar-text-secondary dark:text-sidebar-text-secondary\">user@example.com</div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAuB,OAAO;AACrF,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,MAAM,EAAEC,cAAc,EAAEC,KAAK,EAAEC,IAAI,EAAEC,OAAO,EAAEC,MAAM,EAAEC,cAAc,EAAEC,aAAa,EAAEC,IAAI,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAUzH,MAAMC,OAA+B,GAAGA,CAAC;EAAEC,MAAM;EAAEC,WAAW;EAAEC,OAAO;EAAEC;AAAiB,CAAC,KAAK;EAAAC,EAAA;EAC9F,MAAM;IACJC,mBAAmB;IACnBC,qBAAqB;IACrBC,qBAAqB;IACrBC,kBAAkB;IAClBC,kBAAkB;IAClBC;EACF,CAAC,GAAG7B,UAAU,CAACI,WAAW,CAAC;EAE3B,MAAM,CAAC0B,SAAS,EAAEC,YAAY,CAAC,GAAG9B,QAAQ,CAAgB,IAAI,CAAC;EAC/D,MAAM,CAAC+B,SAAS,EAAEC,YAAY,CAAC,GAAGhC,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACiC,UAAU,EAAEC,aAAa,CAAC,GAAGlC,QAAQ,CAAgB,IAAI,CAAC;EACjE,MAAM,CAACmC,SAAS,EAAEC,YAAY,CAAC,GAAGpC,QAAQ,CAAoB,MAAM,CAAC;EACrE,MAAM,CAACqC,WAAW,EAAEC,cAAc,CAAC,GAAGtC,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACuC,cAAc,EAAEC,iBAAiB,CAAC,GAAGxC,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAMyC,cAAc,GAAGvC,MAAM,CAAmB,IAAI,CAAC;;EAErD;EACA,MAAMwC,gBAAgB,GAAG,CAAC,GAAGnB,mBAAmB,CAAC,CAACoB,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;IAC/D,MAAMC,OAAO,GAAIC,CAAe,IAAK;MACnC,MAAMC,CAAM,GAAID,CAAC,CAACE,SAAS,IAAaF,CAAC,CAACG,SAAiB,IAAIH,CAAC,CAACI,EAAE;MACnE,MAAMC,CAAC,GAAGC,MAAM,CAACL,CAAC,CAAC;MACnB,IAAI,CAACM,KAAK,CAACF,CAAC,CAAC,EAAE,OAAOA,CAAC;MACvB,MAAMG,CAAC,GAAG,IAAIC,IAAI,CAACR,CAAC,CAAC;MACrB,OAAOM,KAAK,CAACC,CAAC,CAACT,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,GAAGS,CAAC,CAACT,OAAO,CAAC,CAAC;IAC7C,CAAC;IACD,OAAOA,OAAO,CAACD,CAAC,CAAC,GAAGC,OAAO,CAACF,CAAC,CAAC;EAChC,CAAC,CAAC;;EAEF;EACA,MAAMa,qBAAqB,GAAGpB,WAAW,CAACqB,IAAI,CAAC,CAAC,GAC5ChB,gBAAgB,CAACiB,MAAM,CAACC,IAAI,IAAI;IAC9B;IACA,IAAIA,IAAI,CAACC,KAAK,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC1B,WAAW,CAACyB,WAAW,CAAC,CAAC,CAAC,EAAE;MAChE,OAAO,IAAI;IACb;IACA;IACA,OAAOF,IAAI,CAACI,QAAQ,CAACC,IAAI,CAACC,GAAG,IAC3BA,GAAG,CAACC,OAAO,CAACL,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC1B,WAAW,CAACyB,WAAW,CAAC,CAAC,CAC9D,CAAC;EACH,CAAC,CAAC,GACFpB,gBAAgB;EAEpB,MAAM0B,YAAY,GAAGA,CAACC,MAAc,EAAEC,YAAoB,KAAK;IAC7DxC,YAAY,CAACuC,MAAM,CAAC;IACpBrC,YAAY,CAACsC,YAAY,CAAC;EAC5B,CAAC;EAED,MAAMC,QAAQ,GAAGA,CAAA,KAAM;IACrB,IAAIxC,SAAS,CAAC2B,IAAI,CAAC,CAAC,IAAI7B,SAAS,EAAE;MACjCD,uBAAuB,CAACC,SAAS,EAAEE,SAAS,CAAC2B,IAAI,CAAC,CAAC,CAAC;IACtD;IACA5B,YAAY,CAAC,IAAI,CAAC;IAClBE,YAAY,CAAC,EAAE,CAAC;EAClB,CAAC;EAED,MAAMwC,cAAc,GAAIC,CAAkC,IAAK;IAC7D,IAAIA,CAAC,CAACC,GAAG,KAAK,OAAO,EAAE;MACrBH,QAAQ,CAAC,CAAC;IACZ,CAAC,MAAM,IAAIE,CAAC,CAACC,GAAG,KAAK,QAAQ,EAAE;MAC7B5C,YAAY,CAAC,IAAI,CAAC;MAClBE,YAAY,CAAC,EAAE,CAAC;IAClB;EACF,CAAC;EAED,MAAM2C,UAAU,GAAIN,MAAc,IAAK;IACrCnC,aAAa,CAACD,UAAU,KAAKoC,MAAM,GAAG,IAAI,GAAGA,MAAM,CAAC;EACtD,CAAC;EAED,MAAMO,SAAS,GAAGA,CAAA,KAAM;IACtB1C,aAAa,CAAC,IAAI,CAAC;EACrB,CAAC;EAED,MAAM2C,WAAW,GAAIR,MAAc,IAAK;IACtCS,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEV,MAAM,CAAC;IAC1CO,SAAS,CAAC,CAAC;EACb,CAAC;EAED,MAAMI,aAAa,GAAIX,MAAc,IAAK;IACxCS,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEV,MAAM,CAAC;IAC5CO,SAAS,CAAC,CAAC;EACb,CAAC;;EAED;EACA3E,SAAS,CAAC,MAAM;IACd,MAAMgF,aAAa,GAAIR,CAA2B,IAAK;MACrD,IAAI,CAACA,CAAC,CAACS,OAAO,IAAIT,CAAC,CAACU,OAAO,KAAKV,CAAC,CAACC,GAAG,KAAK,GAAG,EAAE;QAC7CD,CAAC,CAACW,cAAc,CAAC,CAAC;QAClBhD,YAAY,CAAC,QAAQ,CAAC;QACtBI,iBAAiB,CAAC,IAAI,CAAC;QACvB;QACA6C,UAAU,CAAC,MAAM;UAAA,IAAAC,qBAAA;UACf,CAAAA,qBAAA,GAAA7C,cAAc,CAAC8C,OAAO,cAAAD,qBAAA,uBAAtBA,qBAAA,CAAwBE,KAAK,CAAC,CAAC;QACjC,CAAC,EAAE,GAAG,CAAC;MACT,CAAC,MAAM,IAAI,CAACf,CAAC,CAACS,OAAO,IAAIT,CAAC,CAACU,OAAO,KAAKV,CAAC,CAACC,GAAG,KAAK,GAAG,EAAE;QACpDD,CAAC,CAACW,cAAc,CAAC,CAAC;QAClBhD,YAAY,CAAC,MAAM,CAAC;QACpBX,qBAAqB,CAAC,CAAC;QACvB,IAAIgE,MAAM,CAACC,UAAU,IAAI,GAAG,IAAItE,OAAO,EAAEA,OAAO,CAAC,CAAC;MACpD;IACF,CAAC;IACDqE,MAAM,CAACE,gBAAgB,CAAC,SAAS,EAAEV,aAAa,CAAC;IACjD,OAAO,MAAMQ,MAAM,CAACG,mBAAmB,CAAC,SAAS,EAAEX,aAAa,CAAC;EACnE,CAAC,EAAE,CAACxD,qBAAqB,EAAEL,OAAO,CAAC,CAAC;;EAEpC;EACAnB,SAAS,CAAC,MAAM;IACd,MAAM4F,kBAAkB,GAAIC,KAAiB,IAAK;MAChD,IAAI7D,UAAU,IAAI,CAAE6D,KAAK,CAACC,MAAM,CAAaC,OAAO,CAAC,iBAAiB,CAAC,EAAE;QACvEpB,SAAS,CAAC,CAAC;MACb;IACF,CAAC;IACDqB,QAAQ,CAACN,gBAAgB,CAAC,OAAO,EAAEE,kBAAkB,CAAC;IACtD,OAAO,MAAM;MACXI,QAAQ,CAACL,mBAAmB,CAAC,OAAO,EAAEC,kBAAkB,CAAC;IAC3D,CAAC;EACH,CAAC,EAAE,CAAC5D,UAAU,CAAC,CAAC;EAEhB,MAAMiE,sBAAsB,GAAItC,IAAkB,iBAChD9C,OAAA;IAEEqF,SAAS,EAAE;AACjB;AACA,UAAUvC,IAAI,CAACT,EAAE,KAAK3B,qBAAqB,GAC/B,+EAA+E,GAC/E,oEAAoE;AAChF,OAAQ;IAAA4E,QAAA,eAEFtF,OAAA;MACEqF,SAAS,EAAC,mCAAmC;MAC7CE,OAAO,EAAEA,CAAA,KAAM;QACb,IAAIxE,SAAS,KAAK+B,IAAI,CAACT,EAAE,EAAE;UACzBzB,kBAAkB,CAACkC,IAAI,CAACT,EAAE,CAAC;UAC3Bf,YAAY,CAAC,MAAM,CAAC;UACpB,IAAIqD,MAAM,CAACC,UAAU,IAAI,GAAG,IAAItE,OAAO,EAAEA,OAAO,CAAC,CAAC;QACpD;MACF,CAAE;MAAAgF,QAAA,GAEDvE,SAAS,KAAK+B,IAAI,CAACT,EAAE,gBACpBrC,OAAA;QACEwF,IAAI,EAAC,MAAM;QACXC,KAAK,EAAExE,SAAU;QACjByE,QAAQ,EAAG/B,CAAC,IAAKzC,YAAY,CAACyC,CAAC,CAACsB,MAAM,CAACQ,KAAK,CAAE;QAC9CE,MAAM,EAAElC,QAAS;QACjBmC,SAAS,EAAElC,cAAe;QAC1B2B,SAAS,EAAC,oMAAoM;QAC9MQ,SAAS;QACTN,OAAO,EAAG5B,CAAC,IAAKA,CAAC,CAACmC,eAAe,CAAC;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrC,CAAC,gBAEFlG,OAAA;QAAMqF,SAAS,EAAC,uFAAuF;QAAAC,QAAA,EACpGxC,IAAI,CAACC;MAAK;QAAAgD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACP,CACP,eAEDlG,OAAA;QAAKqF,SAAS,EAAC,yBAAyB;QAAAC,QAAA,gBACtCtF,OAAA;UACEqF,SAAS,EAAE,4MACTlE,UAAU,KAAK2B,IAAI,CAACT,EAAE,GAAG,aAAa,GAAG,mCAAmC,EAC3E;UACHkD,OAAO,EAAG5B,CAAC,IAAK;YACdA,CAAC,CAACmC,eAAe,CAAC,CAAC;YACnBjC,UAAU,CAACf,IAAI,CAACT,EAAE,CAAC;UACrB,CAAE;UACF,cAAW,cAAc;UAAAiD,QAAA,eAEzBtF,OAAA,CAACT,cAAc;YAAC4G,IAAI,EAAE,EAAG;YAACd,SAAS,EAAC;UAA8D;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/F,CAAC,EACR/E,UAAU,KAAK2B,IAAI,CAACT,EAAE,iBACrBrC,OAAA;UAAKqF,SAAS,EAAC,qNAAqN;UAAAC,QAAA,gBAClOtF,OAAA;YACEqF,SAAS,EAAC,0NAA0N;YACpOE,OAAO,EAAG5B,CAAC,IAAK;cACdA,CAAC,CAACmC,eAAe,CAAC,CAAC;cACnB/B,WAAW,CAACjB,IAAI,CAACT,EAAE,CAAC;YACtB,CAAE;YAAAiD,QAAA,gBAEFtF,OAAA,CAACR,KAAK;cAAC2G,IAAI,EAAE;YAAG;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACnBlG,OAAA;cAAAsF,QAAA,EAAM;YAAK;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACZ,CAAC,eACTlG,OAAA;YACEqF,SAAS,EAAC,0NAA0N;YACpOE,OAAO,EAAG5B,CAAC,IAAK;cACdA,CAAC,CAACmC,eAAe,CAAC,CAAC;cACnBxC,YAAY,CAACR,IAAI,CAACT,EAAE,EAAES,IAAI,CAACC,KAAK,CAAC;cACjCe,SAAS,CAAC,CAAC;YACb,CAAE;YAAAwB,QAAA,gBAEFtF,OAAA,CAACP,IAAI;cAAC0G,IAAI,EAAE;YAAG;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAClBlG,OAAA;cAAAsF,QAAA,EAAM;YAAM;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACb,CAAC,eACTlG,OAAA;YACEqF,SAAS,EAAC,0NAA0N;YACpOE,OAAO,EAAG5B,CAAC,IAAK;cACdA,CAAC,CAACmC,eAAe,CAAC,CAAC;cACnB5B,aAAa,CAACpB,IAAI,CAACT,EAAE,CAAC;YACxB,CAAE;YAAAiD,QAAA,gBAEFtF,OAAA,CAACN,OAAO;cAACyG,IAAI,EAAE;YAAG;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACrBlG,OAAA;cAAAsF,QAAA,EAAM;YAAO;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACd,CAAC,eACTlG,OAAA;YACEqF,SAAS,EAAC,8JAA8J;YACxKE,OAAO,EAAG5B,CAAC,IAAK;cACdA,CAAC,CAACmC,eAAe,CAAC,CAAC;cACnBjF,kBAAkB,CAACiC,IAAI,CAACT,EAAE,CAAC;cAC3ByB,SAAS,CAAC,CAAC;YACb,CAAE;YAAAwB,QAAA,gBAEFtF,OAAA,CAACL,MAAM;cAACwG,IAAI,EAAE;YAAG;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACpBlG,OAAA;cAAAsF,QAAA,EAAM;YAAM;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACb,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC,GA/FDpD,IAAI,CAACT,EAAE;IAAA0D,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAgGT,CACN;EAED,oBACElG,OAAA,CAAAE,SAAA;IAAAoF,QAAA,GAEGlF,MAAM,iBACLJ,OAAA;MACEqF,SAAS,EAAC,2DAA2D;MACrEE,OAAO,EAAEjF;IAAQ;MAAAyF,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClB,CACF,eAGDlG,OAAA;MAAKqF,SAAS,EAAE;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAUhF,WAAW,GAAG,MAAM,GAAG,MAAM;AACvC;AACA,UAAUD,MAAM,GAAG,eAAe,GAAG,oCAAoC;AACzE,OAAQ;MAAAkF,QAAA,eACAtF,OAAA;QAAKqF,SAAS,EAAC,sBAAsB;QAAAC,QAAA,gBAEnCtF,OAAA;UAAKqF,SAAS,EAAC,+DAA+D;UAAAC,QAAA,EAC3EjF,WAAW,gBACVL,OAAA;YACEqF,SAAS,EAAC,iLAAiL;YAC3LE,OAAO,EAAEhF,gBAAiB;YAC1BwC,KAAK,EAAC,gBAAgB;YACtB,cAAW,gBAAgB;YAAAuC,QAAA,eAE3BtF,OAAA,CAACJ,cAAc;cAACuG,IAAI,EAAE,EAAG;cAACd,SAAS,EAAC;YAAyE;cAAAU,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1G,CAAC,gBAETlG,OAAA;YAAKqF,SAAS,EAAC,+BAA+B;YAAAC,QAAA,eAC5CtF,OAAA;cACEqF,SAAS,EAAC,0KAA0K;cACpLE,OAAO,EAAEhF,gBAAiB;cAC1BwC,KAAK,EAAC,kBAAkB;cACxB,cAAW,kBAAkB;cAAAuC,QAAA,eAE7BtF,OAAA,CAACJ,cAAc;gBAACuG,IAAI,EAAE,EAAG;gBAACd,SAAS,EAAC;cAA8D;gBAAAU,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/F;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN;QACN;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,EAGL,CAAC7F,WAAW,iBACXL,OAAA;UAAKqF,SAAS,EAAC,kCAAkC;UAAAC,QAAA,GAE9C,CAAC7D,cAAc,IAAIJ,SAAS,KAAK,QAAQ,IAAIE,WAAW,CAACqB,IAAI,CAAC,CAAC,kBAC9D5C,OAAA;YAAKqF,SAAS,EAAC,WAAW;YAAAC,QAAA,eACxBtF,OAAA;cAAKqF,SAAS,EAAC,UAAU;cAAAC,QAAA,gBACvBtF,OAAA,CAACV,MAAM;gBAAC6G,IAAI,EAAE,EAAG;gBAACd,SAAS,EAAC;cAAiH;gBAAAU,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eAChJlG,OAAA;gBACEoG,GAAG,EAAEzE,cAAe;gBACpB6D,IAAI,EAAC,MAAM;gBACXa,WAAW,EAAC,yBAAyB;gBACrCZ,KAAK,EAAElE,WAAY;gBACnBmE,QAAQ,EAAG/B,CAAC,IAAK;kBACfnC,cAAc,CAACmC,CAAC,CAACsB,MAAM,CAACQ,KAAK,CAAC;kBAC9B/D,iBAAiB,CAAC,IAAI,CAAC;kBACvBJ,YAAY,CAAC,QAAQ,CAAC;gBACxB,CAAE;gBACFgF,OAAO,EAAEA,CAAA,KAAM;kBACb5E,iBAAiB,CAAC,IAAI,CAAC;kBACvBJ,YAAY,CAAC,QAAQ,CAAC;gBACxB,CAAE;gBACFqE,MAAM,EAAGhC,CAAC,IAAK;kBAAA,IAAA4C,gBAAA;kBACb;kBACA,IAAI,CAAChF,WAAW,CAACqB,IAAI,CAAC,CAAC,IAAI,GAAA2D,gBAAA,GAAC5C,CAAC,CAAC6C,aAAa,cAAAD,gBAAA,eAAfA,gBAAA,CAAiBrB,OAAO,CAAC,QAAQ,CAAC,GAAE;oBAC9DxD,iBAAiB,CAAC,KAAK,CAAC;oBACxB,IAAIL,SAAS,KAAK,QAAQ,EAAE;sBAC1BC,YAAY,CAAC,MAAM,CAAC;oBACtB;kBACF;gBACF,CAAE;gBACFsE,SAAS,EAAGjC,CAAC,IAAK;kBAChB;kBACA,IAAIA,CAAC,CAACC,GAAG,KAAK,QAAQ,EAAE;oBAAA,IAAA6C,sBAAA;oBACtBjF,cAAc,CAAC,EAAE,CAAC;oBAClBE,iBAAiB,CAAC,KAAK,CAAC;oBACxBJ,YAAY,CAAC,MAAM,CAAC;oBACpB,CAAAmF,sBAAA,GAAA9E,cAAc,CAAC8C,OAAO,cAAAgC,sBAAA,uBAAtBA,sBAAA,CAAwBC,IAAI,CAAC,CAAC;kBAChC;gBACF,CAAE;gBACFrB,SAAS,EAAC;cAA6Y;gBAAAU,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxZ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACN,eAGDlG,OAAA;YAAKqF,SAAS,EAAC,gBAAgB;YAAAC,QAAA,GAE5B,EAAE7D,cAAc,IAAIJ,SAAS,KAAK,QAAQ,IAAIE,WAAW,CAACqB,IAAI,CAAC,CAAC,CAAC,iBAChE5C,OAAA;cACEqF,SAAS,EAAE;AAC/B;AACA;AACA,qBAAsB;cACFE,OAAO,EAAEA,CAAA,KAAM;gBACbjE,YAAY,CAAC,QAAQ,CAAC;gBACtBI,iBAAiB,CAAC,IAAI,CAAC;gBACvB6C,UAAU,CAAC,MAAM;kBAAA,IAAAoC,sBAAA;kBACf,CAAAA,sBAAA,GAAAhF,cAAc,CAAC8C,OAAO,cAAAkC,sBAAA,uBAAtBA,sBAAA,CAAwBjC,KAAK,CAAC,CAAC;gBACjC,CAAC,EAAE,GAAG,CAAC;cACT,CAAE;cAAAY,QAAA,gBAEFtF,OAAA,CAACV,MAAM;gBAAC6G,IAAI,EAAE;cAAG;gBAAAJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eACpBlG,OAAA;gBAAMqF,SAAS,EAAC,qBAAqB;gBAAAC,QAAA,EAAC;cAAM;gBAAAS,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACnDlG,OAAA;gBAAMqF,SAAS,EAAC,8EAA8E;gBAAAC,QAAA,EAAC;cAE/F;gBAAAS,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CACT,eAGDlG,OAAA;cACEqF,SAAS,EAAE;AAC7B;AACA,sBAAsBhE,SAAS,KAAK,MAAM,GAClB,iHAAiH,GACjH,iIAAiI;AACzJ,mBAAoB;cACFkE,OAAO,EAAEA,CAAA,KAAM;gBACbjE,YAAY,CAAC,MAAM,CAAC;gBACpBX,qBAAqB,CAAC,CAAC;gBACvB,IAAIgE,MAAM,CAACC,UAAU,IAAI,GAAG,IAAItE,OAAO,EAAEA,OAAO,CAAC,CAAC;cACpD,CAAE;cAAAgF,QAAA,gBAEFtF,OAAA,CAACH,aAAa;gBAACsG,IAAI,EAAE;cAAG;gBAAAJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eAC3BlG,OAAA;gBAAMqF,SAAS,EAAC,qBAAqB;gBAAAC,QAAA,EAAC;cAAI;gBAAAS,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACjDlG,OAAA;gBAAMqF,SAAS,EAAC,8EAA8E;gBAAAC,QAAA,EAAC;cAE/F;gBAAAS,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eAGNlG,OAAA;YAAKqF,SAAS,EAAC,MAAM;YAAAC,QAAA,EAClB/D,WAAW,CAACqB,IAAI,CAAC,CAAC,gBACjB5C,OAAA,CAAAE,SAAA;cAAAoF,QAAA,gBACEtF,OAAA;gBAAKqF,SAAS,EAAC,uHAAuH;gBAAAC,QAAA,EAAC;cAEvI;gBAAAS,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,EACLvD,qBAAqB,CAACiE,MAAM,GAAG,CAAC,gBAC/B5G,OAAA;gBAAKqF,SAAS,EAAC,aAAa;gBAAAC,QAAA,EACzB3C,qBAAqB,CAACkE,GAAG,CAACzB,sBAAsB;cAAC;gBAAAW,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC/C,CAAC,gBAENlG,OAAA;gBAAKqF,SAAS,EAAC,4FAA4F;gBAAAC,QAAA,GAAC,+BAC9E,EAAC/D,WAAW,EAAC,IAC3C;cAAA;gBAAAwE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CACN;YAAA,eACD,CAAC,gBAEHlG,OAAA,CAAAE,SAAA;cAAAoF,QAAA,gBACEtF,OAAA;gBAAKqF,SAAS,EAAC,uHAAuH;gBAAAC,QAAA,EAAC;cAEvI;gBAAAS,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,EACLvD,qBAAqB,CAACiE,MAAM,GAAG,CAAC,gBAC/B5G,OAAA;gBAAKqF,SAAS,EAAC,aAAa;gBAAAC,QAAA,EACzB3C,qBAAqB,CAACkE,GAAG,CAACzB,sBAAsB;cAAC;gBAAAW,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC/C,CAAC,gBAENlG,OAAA;gBAAKqF,SAAS,EAAC,4FAA4F;gBAAAC,QAAA,EAAC;cAE5G;gBAAAS,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CACN;YAAA,eACD;UACH;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN,EAGA7F,WAAW,iBACVL,OAAA;UAAKqF,SAAS,EAAC,4CAA4C;UAAAC,QAAA,gBACzDtF,OAAA;YACEqF,SAAS,EAAE;AAC3B;AACA,oBAAoBhE,SAAS,KAAK,QAAQ,GACpB,wDAAwD,GACxD,oEAAoE;AAC1F;AACA,iBAAkB;YACFkE,OAAO,EAAEA,CAAA,KAAM;cACbjE,YAAY,CAAC,QAAQ,CAAC;cACtBI,iBAAiB,CAAC,IAAI,CAAC;YACzB,CAAE;YACFqB,KAAK,EAAC,iBAAiB;YAAAuC,QAAA,eAEvBtF,OAAA,CAACV,MAAM;cAAC6G,IAAI,EAAE,EAAG;cAACd,SAAS,EAAEhE,SAAS,KAAK,QAAQ,GAAG,0DAA0D,GAAG;YAA+D;cAAA0E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/K,CAAC,eACTlG,OAAA;YACEqF,SAAS,EAAE;AAC3B;AACA,oBAAoBhE,SAAS,KAAK,MAAM,GAClB,wDAAwD,GACxD,oEAAoE;AAC1F;AACA,iBAAkB;YACFkE,OAAO,EAAEA,CAAA,KAAM;cACbjE,YAAY,CAAC,MAAM,CAAC;cACpBX,qBAAqB,CAAC,CAAC;cACvB,IAAIgE,MAAM,CAACC,UAAU,IAAI,GAAG,IAAItE,OAAO,EAAEA,OAAO,CAAC,CAAC;YACpD,CAAE;YACFyC,KAAK,EAAC,eAAe;YAAAuC,QAAA,eAErBtF,OAAA,CAACH,aAAa;cAACsG,IAAI,EAAE,EAAG;cAACd,SAAS,EAAEhE,SAAS,KAAK,MAAM,GAAG,0DAA0D,GAAG;YAA+D;cAAA0E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpL,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CACN,eAGDlG,OAAA;UAAKqF,SAAS,EAAC,+DAA+D;UAAAC,QAAA,EAC3EjF,WAAW,gBACVL,OAAA;YAAQqF,SAAS,EAAC,iLAAiL;YAAAC,QAAA,eACjMtF,OAAA,CAACF,IAAI;cAACqG,IAAI,EAAE,EAAG;cAACd,SAAS,EAAC;YAA8D;cAAAU,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrF,CAAC,gBAETlG,OAAA;YAAKqF,SAAS,EAAC,yBAAyB;YAAAC,QAAA,gBACtCtF,OAAA;cAAKqF,SAAS,EAAC,8GAA8G;cAAAC,QAAA,eAC3HtF,OAAA,CAACF,IAAI;gBAACqG,IAAI,EAAE,EAAG;gBAACd,SAAS,EAAC;cAA8D;gBAAAU,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxF,CAAC,eACNlG,OAAA;cAAKqF,SAAS,EAAC,QAAQ;cAAAC,QAAA,gBACrBtF,OAAA;gBAAKqF,SAAS,EAAC,8EAA8E;gBAAAC,QAAA,EAAC;cAAI;gBAAAS,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACxGlG,OAAA;gBAAKqF,SAAS,EAAC,sEAAsE;gBAAAC,QAAA,EAAC;cAAgB;gBAAAS,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QACN;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA,eACN,CAAC;AAEP,CAAC;AAAC1F,EAAA,CA5cIL,OAA+B;AAAA2G,EAAA,GAA/B3G,OAA+B;AA8crC,eAAeA,OAAO;AAAC,IAAA2G,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}